{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sunfei/Downloads/website/src/components/algolia-search.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { SearchIcon } from \"@chakra-ui/icons\";\nimport { chakra, HStack, Kbd, Portal, Text, useColorModeValue, VisuallyHidden } from \"@chakra-ui/react\";\nimport { DocSearchModal, useDocSearchKeyboardEvents } from \"@docsearch/react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport * as React from \"react\";\nimport SearchStyle from \"./search.styles\";\n\nvar santize = function santize(str) {\n  return str === null || str === void 0 ? void 0 : str.split(\" \").filter(function (t) {\n    return !t.startsWith(\".css\") && t !== \"…\";\n  }).join(\" \");\n};\n\nvar ACTION_KEY_DEFAULT = [\"Ctrl\", \"Control\"];\nvar ACTION_KEY_APPLE = [\"⌘\", \"Command\"];\n\nfunction Hit(props) {\n  var hit = props.hit,\n      children = props.children;\n  return /*#__PURE__*/_jsxDEV(Link, {\n    href: hit.url,\n    passHref: true,\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Hit;\nexport var SearchButton = /*#__PURE__*/React.forwardRef(_c2 = _s(function SearchButton(props, ref) {\n  _s();\n\n  var _React$useState = React.useState(ACTION_KEY_APPLE),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      actionKey = _React$useState2[0],\n      setActionKey = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (typeof navigator === \"undefined\") return;\n    var isMac = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n\n    if (!isMac) {\n      setActionKey(ACTION_KEY_DEFAULT);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(chakra.button, _objectSpread(_objectSpread({\n    flex: \"1\",\n    type: \"button\",\n    role: \"search\",\n    mx: \"6\",\n    ref: ref,\n    lineHeight: \"1.2\",\n    w: \"100%\",\n    bg: useColorModeValue(\"white\", \"gray.700\"),\n    whiteSpace: \"nowrap\",\n    display: {\n      base: \"none\",\n      sm: \"flex\"\n    },\n    alignItems: \"center\",\n    color: \"gray.400\",\n    py: \"3\",\n    px: \"4\",\n    outline: \"0\",\n    _focus: {\n      shadow: \"outline\"\n    },\n    shadow: \"base\",\n    rounded: \"md\"\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HStack, {\n      w: \"full\",\n      ml: \"3\",\n      spacing: \"4px\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        textAlign: \"left\",\n        flex: \"1\",\n        children: \"Search the docs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HStack, {\n        spacing: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(VisuallyHidden, {\n          children: \"Press \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Kbd, {\n          color: \"gray.500\",\n          rounded: \"2px\",\n          children: /*#__PURE__*/_jsxDEV(chakra.div, {\n            as: \"abbr\",\n            title: actionKey[1],\n            textDecoration: \"none !important\",\n            children: ACTION_KEY_APPLE[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VisuallyHidden, {\n          children: \" and \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Kbd, {\n          color: \"gray.500\",\n          rounded: \"2px\",\n          children: \"K\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VisuallyHidden, {\n          children: \" to search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}, \"NelCe1EbzZsB7hhviVIYuHrrkrs=\", false, function () {\n  return [useColorModeValue];\n}));\n_c3 = SearchButton;\n\nfunction AlgoliaSearch() {\n  _s2();\n\n  var router = useRouter();\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isOpen = _React$useState4[0],\n      setIsOpen = _React$useState4[1];\n\n  var searchButtonRef = React.useRef();\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      initialQuery = _React$useState6[0],\n      setInitialQuery = _React$useState6[1];\n\n  var onOpen = React.useCallback(function () {\n    setIsOpen(true);\n  }, [setIsOpen]);\n  var onClose = React.useCallback(function () {\n    setIsOpen(false);\n  }, [setIsOpen]);\n  var onInput = React.useCallback(function (e) {\n    setIsOpen(true);\n    setInitialQuery(e.key);\n  }, [setIsOpen, setInitialQuery]);\n  useDocSearchKeyboardEvents({\n    isOpen: isOpen,\n    onOpen: onOpen,\n    onClose: onClose,\n    onInput: onInput,\n    searchButtonRef: searchButtonRef\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"preconnect\",\n        href: \"https://BH4D9OD16A-dsn.algolia.net\",\n        crossOrigin: \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n      onClick: onOpen,\n      ref: searchButtonRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(Portal, {\n      children: /*#__PURE__*/_jsxDEV(DocSearchModal, {\n        placeholder: \"Search the docs\",\n        initialQuery: initialQuery,\n        initialScrollY: window.scrollY,\n        onClose: onClose,\n        indexName: \"chakra-ui\",\n        apiKey: \"df1dcc41f7b8e5d68e73dd56d1e19701\",\n        appId: \"BH4D9OD16A\" //@ts-expect-error\n        ,\n        navigator: {\n          navigate: function navigate(_ref) {\n            var suggestionUrl = _ref.suggestionUrl;\n            setIsOpen(false);\n            router.push(suggestionUrl);\n          }\n        },\n        hitComponent: Hit,\n        transformItems: function transformItems(items) {\n          return items.filter(function (item) {\n            var _item$_snippetResult, _item$_snippetResult$, _item$_snippetResult$2, _item$_snippetResult$3;\n\n            console.log((_item$_snippetResult = item._snippetResult) === null || _item$_snippetResult === void 0 ? void 0 : (_item$_snippetResult$ = _item$_snippetResult.hierarchy) === null || _item$_snippetResult$ === void 0 ? void 0 : _item$_snippetResult$.lvl1.value);\n            var lvl1 = item.hierarchy.lvl1;\n            return item._snippetResult != null && !((_item$_snippetResult$2 = item._snippetResult.content) !== null && _item$_snippetResult$2 !== void 0 && _item$_snippetResult$2.value.includes(\".css\")) && !((_item$_snippetResult$3 = item._snippetResult.hierarchy) !== null && _item$_snippetResult$3 !== void 0 && _item$_snippetResult$3.lvl1.value.includes(\".css\"));\n          }).map(function (item) {\n            var _item$_snippetResult2, _item$_snippetResult3, _item$_snippetResult4;\n\n            var a = document.createElement(\"a\");\n            a.href = item.url;\n            var hash = a.hash === \"#content-wrapper\" ? \"\" : a.hash; // patch snippet result by removing `.css-` values\n\n            if ((_item$_snippetResult2 = item._snippetResult) !== null && _item$_snippetResult2 !== void 0 && (_item$_snippetResult3 = _item$_snippetResult2.hierarchy) !== null && _item$_snippetResult3 !== void 0 && (_item$_snippetResult4 = _item$_snippetResult3.lvl1) !== null && _item$_snippetResult4 !== void 0 && _item$_snippetResult4.value) {\n              item._snippetResult.hierarchy.lvl1.value = santize(item._snippetResult.hierarchy.lvl1.value);\n            }\n\n            item.url = \"\".concat(a.pathname).concat(hash);\n            return item;\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(AlgoliaSearch, \"L+RntlhLlbmBTT/5rJ5cLC2Ga9E=\", false, function () {\n  return [useRouter, useDocSearchKeyboardEvents];\n});\n\n_c4 = AlgoliaSearch;\nexport default AlgoliaSearch;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Hit\");\n$RefreshReg$(_c2, \"SearchButton$React.forwardRef\");\n$RefreshReg$(_c3, \"SearchButton\");\n$RefreshReg$(_c4, \"AlgoliaSearch\");","map":{"version":3,"sources":["/Users/sunfei/Downloads/website/src/components/algolia-search.tsx"],"names":["SearchIcon","chakra","HStack","Kbd","Portal","Text","useColorModeValue","VisuallyHidden","DocSearchModal","useDocSearchKeyboardEvents","Head","Link","useRouter","React","SearchStyle","santize","str","split","filter","t","startsWith","join","ACTION_KEY_DEFAULT","ACTION_KEY_APPLE","Hit","props","hit","children","url","SearchButton","forwardRef","ref","useState","actionKey","setActionKey","useEffect","navigator","isMac","test","platform","base","sm","shadow","AlgoliaSearch","router","isOpen","setIsOpen","searchButtonRef","useRef","initialQuery","setInitialQuery","onOpen","useCallback","onClose","onInput","e","key","window","scrollY","navigate","suggestionUrl","push","items","item","console","log","_snippetResult","hierarchy","lvl1","value","content","includes","map","a","document","createElement","href","hash","pathname"],"mappings":"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","sourcesContent":["import { SearchIcon } from \"@chakra-ui/icons\"\nimport {\n  chakra,\n  HStack,\n  HTMLChakraProps,\n  Kbd,\n  Portal,\n  Text,\n  useColorModeValue,\n  VisuallyHidden,\n} from \"@chakra-ui/react\"\nimport { DocSearchModal, useDocSearchKeyboardEvents } from \"@docsearch/react\"\nimport Head from \"next/head\"\nimport Link from \"next/link\"\nimport { useRouter } from \"next/router\"\nimport * as React from \"react\"\nimport SearchStyle from \"./search.styles\"\n\nconst santize = (str: string | null) => {\n  return str\n    ?.split(\" \")\n    .filter((t) => !t.startsWith(\".css\") && t !== \"…\")\n    .join(\" \")\n}\n\nconst ACTION_KEY_DEFAULT = [\"Ctrl\", \"Control\"]\nconst ACTION_KEY_APPLE = [\"⌘\", \"Command\"]\n\nfunction Hit(props: any) {\n  const { hit, children } = props\n  return (\n    <Link href={hit.url} passHref>\n      <a>{children}</a>\n    </Link>\n  )\n}\n\nexport const SearchButton = React.forwardRef(function SearchButton(\n  props: HTMLChakraProps<\"button\">,\n  ref: React.Ref<HTMLButtonElement>,\n) {\n  const [actionKey, setActionKey] = React.useState<string[]>(ACTION_KEY_APPLE)\n  React.useEffect(() => {\n    if (typeof navigator === \"undefined\") return\n    const isMac = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)\n    if (!isMac) {\n      setActionKey(ACTION_KEY_DEFAULT)\n    }\n  }, [])\n\n  return (\n    <chakra.button\n      flex=\"1\"\n      type=\"button\"\n      role=\"search\"\n      mx=\"6\"\n      ref={ref}\n      lineHeight=\"1.2\"\n      w=\"100%\"\n      bg={useColorModeValue(\"white\", \"gray.700\")}\n      whiteSpace=\"nowrap\"\n      display={{ base: \"none\", sm: \"flex\" }}\n      alignItems=\"center\"\n      color=\"gray.400\"\n      py=\"3\"\n      px=\"4\"\n      outline=\"0\"\n      _focus={{ shadow: \"outline\" }}\n      shadow=\"base\"\n      rounded=\"md\"\n      {...props}\n    >\n      <SearchIcon />\n      <HStack w=\"full\" ml=\"3\" spacing=\"4px\">\n        <Text textAlign=\"left\" flex=\"1\">\n          Search the docs\n        </Text>\n        <HStack spacing=\"4px\">\n          <VisuallyHidden>Press </VisuallyHidden>\n          <Kbd color=\"gray.500\" rounded=\"2px\">\n            <chakra.div\n              as=\"abbr\"\n              title={actionKey[1]}\n              textDecoration=\"none !important\"\n            >\n              {ACTION_KEY_APPLE[0]}\n            </chakra.div>\n          </Kbd>\n          <VisuallyHidden> and </VisuallyHidden>\n          <Kbd color=\"gray.500\" rounded=\"2px\">\n            K\n          </Kbd>\n          <VisuallyHidden> to search</VisuallyHidden>\n        </HStack>\n      </HStack>\n    </chakra.button>\n  )\n})\n\nfunction AlgoliaSearch() {\n  const router = useRouter()\n  const [isOpen, setIsOpen] = React.useState(false)\n  const searchButtonRef = React.useRef()\n  const [initialQuery, setInitialQuery] = React.useState(null)\n\n  const onOpen = React.useCallback(() => {\n    setIsOpen(true)\n  }, [setIsOpen])\n\n  const onClose = React.useCallback(() => {\n    setIsOpen(false)\n  }, [setIsOpen])\n\n  const onInput = React.useCallback(\n    (e) => {\n      setIsOpen(true)\n      setInitialQuery(e.key)\n    },\n    [setIsOpen, setInitialQuery],\n  )\n\n  useDocSearchKeyboardEvents({\n    isOpen,\n    onOpen,\n    onClose,\n    onInput,\n    searchButtonRef,\n  })\n\n  return (\n    <>\n      <Head>\n        <link\n          rel=\"preconnect\"\n          href=\"https://BH4D9OD16A-dsn.algolia.net\"\n          crossOrigin=\"true\"\n        />\n      </Head>\n      <SearchStyle />\n      <SearchButton onClick={onOpen} ref={searchButtonRef} />\n      {isOpen && (\n        <Portal>\n          <DocSearchModal\n            placeholder=\"Search the docs\"\n            initialQuery={initialQuery}\n            initialScrollY={window.scrollY}\n            onClose={onClose}\n            indexName=\"chakra-ui\"\n            apiKey=\"df1dcc41f7b8e5d68e73dd56d1e19701\"\n            appId=\"BH4D9OD16A\"\n            //@ts-expect-error\n            navigator={{\n              navigate({ suggestionUrl }) {\n                setIsOpen(false)\n                router.push(suggestionUrl)\n              },\n            }}\n            hitComponent={Hit}\n            transformItems={(items) => {\n              return items\n                .filter((item) => {\n                  console.log(item._snippetResult?.hierarchy?.lvl1.value)\n                  const lvl1 = item.hierarchy.lvl1\n                  return (\n                    item._snippetResult != null &&\n                    !item._snippetResult.content?.value.includes(\".css\") &&\n                    !item._snippetResult.hierarchy?.lvl1.value.includes(\".css\")\n                  )\n                })\n                .map((item) => {\n                  const a = document.createElement(\"a\")\n                  a.href = item.url\n                  const hash = a.hash === \"#content-wrapper\" ? \"\" : a.hash\n\n                  // patch snippet result by removing `.css-` values\n                  if (item._snippetResult?.hierarchy?.lvl1?.value) {\n                    item._snippetResult.hierarchy.lvl1.value = santize(\n                      item._snippetResult.hierarchy.lvl1.value,\n                    )\n                  }\n\n                  item.url = `${a.pathname}${hash}`\n                  return item\n                })\n            }}\n          />\n        </Portal>\n      )}\n    </>\n  )\n}\n\nexport default AlgoliaSearch\n"]},"metadata":{},"sourceType":"module"}
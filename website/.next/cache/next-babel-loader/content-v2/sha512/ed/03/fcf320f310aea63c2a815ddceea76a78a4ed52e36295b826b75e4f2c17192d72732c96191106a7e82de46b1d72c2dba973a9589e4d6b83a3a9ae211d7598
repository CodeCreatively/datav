{"ast":null,"code":"export function trackPageview(url) {\n  const _window = window;\n\n  try {\n    _window.gtag(\"config\", process.env.GA_TRACKING_ID, {\n      page_location: url,\n      page_title: document.title\n    });\n  } catch (err) {\n    console.error(\"Failed sending metrics\", err);\n  }\n}\nexport function trackEvent(options) {\n  const {\n    action,\n    category,\n    label,\n    value\n  } = options;\n  const _window = window;\n\n  try {\n    _window.gtag(\"event\", action, {\n      event_category: category,\n      event_label: label,\n      value\n    });\n  } catch (err) {\n    console.error(\"Failed sending metrics\", err);\n  }\n}","map":{"version":3,"sources":["/Users/sunfei/Downloads/website/src/analytics/track-event.ts"],"names":["trackPageview","url","_window","window","gtag","process","env","GA_TRACKING_ID","page_location","page_title","document","title","err","console","error","trackEvent","options","action","category","label","value","event_category","event_label"],"mappings":"AAAA,OAAO,SAASA,aAAT,CAAuBC,GAAvB,EAAoC;AACzC,QAAMC,OAAO,GAAGC,MAAhB;;AACA,MAAI;AACFD,IAAAA,OAAO,CAACE,IAAR,CAAa,QAAb,EAAuBC,OAAO,CAACC,GAAR,CAAYC,cAAnC,EAAmD;AACjDC,MAAAA,aAAa,EAAEP,GADkC;AAEjDQ,MAAAA,UAAU,EAAEC,QAAQ,CAACC;AAF4B,KAAnD;AAID,GALD,CAKE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAc,wBAAd,EAAwCF,GAAxC;AACD;AACF;AASD,OAAO,SAASG,UAAT,CAAoBC,OAApB,EAAgD;AACrD,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,QAAV;AAAoBC,IAAAA,KAApB;AAA2BC,IAAAA;AAA3B,MAAqCJ,OAA3C;AACA,QAAMd,OAAO,GAAGC,MAAhB;;AACA,MAAI;AACFD,IAAAA,OAAO,CAACE,IAAR,CAAa,OAAb,EAAsBa,MAAtB,EAA8B;AAC5BI,MAAAA,cAAc,EAAEH,QADY;AAE5BI,MAAAA,WAAW,EAAEH,KAFe;AAG5BC,MAAAA;AAH4B,KAA9B;AAKD,GAND,CAME,OAAOR,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAc,wBAAd,EAAwCF,GAAxC;AACD;AACF","sourcesContent":["export function trackPageview(url: string) {\n  const _window = window as typeof window & { gtag: any }\n  try {\n    _window.gtag(\"config\", process.env.GA_TRACKING_ID, {\n      page_location: url,\n      page_title: document.title,\n    })\n  } catch (err) {\n    console.error(\"Failed sending metrics\", err)\n  }\n}\n\ntype TrackEventOptions = {\n  action: any\n  category: string\n  label: string\n  value: string\n}\n\nexport function trackEvent(options: TrackEventOptions) {\n  const { action, category, label, value } = options\n  const _window = window as typeof window & { gtag: any }\n  try {\n    _window.gtag(\"event\", action, {\n      event_category: category,\n      event_label: label,\n      value,\n    })\n  } catch (err) {\n    console.error(\"Failed sending metrics\", err)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}